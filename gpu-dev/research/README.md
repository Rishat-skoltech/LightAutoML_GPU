# Тесты для отчета

Здесь хранятся тесты, которые запускались для отчета о существующих фреймворках для распределенных вычислений на ГПУ.

Чтобы их запусить нужно сначала установить RAPIDS (см. README.md в корневой папке), а затем несколько пакетов, указанных в файле `requirements.txt`
```bash
python3 -m pip install -r requirements.txt 
```

## Описание тестов

1. `big_data_test.py`
создает parquet файл, считывает его несколько раз, чтобы заполнить память гпу и применяет к полученной таблице FillnaMedian_rapids

2. `dask_cudf_indexing.py`
создает случайную таблицу и делает slice по индексам. iloc не работает, так как данные хранятся расрпеделенно, но работает loc (надо в будущем померить скорость).

3. `fillnamedian_gpu_test.py`
создает случайную таблицу и применяет к ней fillnamedian написанный, разными способами, замеряет время. Если cython версии не работают, вероятно нужно их скомпилить на системе, где делается запуск командой python3 `setup.py build_ext --inplace` (в папках `cuda_impl` и `cpu_impl`).

4. `pipeline_test_cpu.py`
на датасете HIGGS применяет пайплайн на цпу, замеряет время. В качестве бустинга деревьев используется CatBoost (который запускается на гпу).

5. `pipeline_test_rapids.py`
на датасете HIGGS применяет пайплайн на нескольких гпу, замеряет время. В качестве бустинга деревьев используется XGBoost.

6. `torch_cupy.y`
создается массив в cupy/torch и конвертируется в torch/cupy. Замеряется использование оперативной памяти.

функция `generate_data` в папке utils (создает случайную таблицу):
- N - количество строк
- N_num - количество столбцов с действительными числами (от -50 до 50)
- N_cat - количество столбцов с целыми числами (от 0 до 1)
- N_str - количество столбцов с текстовыми данными
- возвращает:
    - название поледнего стоблца
    - название всех столбцов кроме последнего
    - сгенерированные данные
    
Сам отчет находится в файле `report.pdf`.
